{"version":3,"file":"index.mjs","sources":["../src/FontFile.js","../src/FontPlugin.js"],"sourcesContent":["import Phaser from 'phaser'\n\nexport class FontFile extends Phaser.Loader.File {\n  constructor(loader, key, url, xhrSettings) {\n    const fileConfig = {\n      type: 'font',\n      key,\n      url,\n      xhrSettings,\n    }\n\n    super(loader, fileConfig)\n  }\n\n  load() {\n    const font = new FontFace(this.key, `url(${this.url})`)\n\n    font.load().then(() => {\n      document.fonts.add(font)\n\n      this.loader.emit(Phaser.Loader.Events.FILE_PROGRESS, this, 1)\n      this.loader.nextFile(this, true)\n    }).catch(() => {\n      this.loader.nextFile(this, false)\n    })\n  }\n}\n","import Phaser from 'phaser'\nimport { FontFile } from './FontFile'\n\nexport class FontPlugin extends Phaser.Plugins.BasePlugin {\n  constructor(pluginManager) {\n    super(pluginManager)\n\n    pluginManager.registerFileType('font', this.fontFileCallback)\n  }\n\n  fontFileCallback(key, url, xhrSettings) {\n    this.addFile(new FontFile(this, key, url, xhrSettings))\n  }\n}\n"],"names":["FontFile","Phaser","loader","key","url","xhrSettings","fileConfig","font","FontPlugin","pluginManager"],"mappings":"sBAEO,MAAMA,UAAiBC,EAAO,OAAO,IAAK,CAC/C,YAAYC,EAAQC,EAAKC,EAAKC,EAAa,CACzC,MAAMC,EAAa,CACjB,KAAM,OACN,IAAAH,EACA,IAAAC,EACA,YAAAC,CACF,EAEA,MAAMH,EAAQI,CAAU,CAC1B,CAEA,MAAO,CACL,MAAMC,EAAO,IAAI,SAAS,KAAK,IAAK,OAAO,KAAK,GAAG,GAAG,EAEtDA,EAAK,KAAK,EAAE,KAAK,IAAM,CACrB,SAAS,MAAM,IAAIA,CAAI,EAEvB,KAAK,OAAO,KAAKN,EAAO,OAAO,OAAO,cAAe,KAAM,CAAC,EAC5D,KAAK,OAAO,SAAS,KAAM,EAAI,CACjC,CAAC,EAAE,MAAM,IAAM,CACb,KAAK,OAAO,SAAS,KAAM,EAAK,CAClC,CAAC,CACH,CACF,OCvBaO,UAAmBP,EAAO,QAAQ,UAAW,CACxD,YAAYQ,EAAe,CACzB,MAAMA,CAAa,EAEnBA,EAAc,iBAAiB,OAAQ,KAAK,gBAAgB,CAC9D,CAEA,iBAAiBN,EAAKC,EAAKC,EAAa,CACtC,KAAK,QAAQ,IAAIL,EAAS,KAAMG,EAAKC,EAAKC,CAAW,CAAC,CACxD,CACF"}